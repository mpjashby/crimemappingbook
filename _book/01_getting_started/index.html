<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>1&nbsp; Getting started – Learn Crime Mapping with R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../02_your_first_crime_map/index.html" rel="next">
<link href="../setup.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/line-highlight-1.0.0/line-highlight.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- START OF INCLUDED HEADER -->

<!--
This file contains code that will be included in the header of each page of the
quarto book
-->

<script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>

<!-- END OF INCLUDED HEADER -->


<link rel="stylesheet" href="../css/styles.css">
<link rel="stylesheet" href="../include/webex.css">
<meta name="twitter:title" content="1&nbsp; Getting started – Learn Crime Mapping with R">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="../images/cover_image.png">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../01_getting_started/index.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/cover_image.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Learn Crime Mapping with R</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/mpjashby/crimemappingbook/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="../learn_crime_mapping_with_r.epub" title="Download ePub" class="quarto-navigation-tool px-1" aria-label="Download ePub"><i class="bi bi-journal"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Contents</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Install the software needed for this book</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01_getting_started/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../02_your_first_crime_map/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Your first crime map</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_data_wrangling/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Wrangling data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../04_your_second_crime_map/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Your second crime map</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05_code_with_style/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Code with style</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../06_mapping_crime_patterns/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Mapping crime patterns</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../07_map_context/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Giving a map context</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../08_handling_bugs/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Handling bugs in your code</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../09_mapping_areas/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Mapping area data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../10_place_data/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Using data about places</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../11_mapping_hotspots/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Mapping hotspots</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../12_messy_data/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Handling messy data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../13_crime_series/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Mapping crime series</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../14_writing_reports/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Writing reports in R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../15_no_maps/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Presenting spatial data without maps</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../16_mapping_time/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Mapping crime over time</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/read_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Functions for reading data into R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/map_checklist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Checklist: Making a good crime map</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/common_errors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Common R errors and how to fix them</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/functions_to_avoid.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Some R functions you should avoid</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices/handling_errors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Checklist: handling code errors</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">In this chapter</h2>
   
  <ul class="collapse">
  <li><a href="#welcome" id="toc-welcome" class="nav-link active" data-scroll-target="#welcome"><span class="header-section-number">1.1</span> Welcome</a></li>
  <li><a href="#why-put-crimes-on-maps" id="toc-why-put-crimes-on-maps" class="nav-link" data-scroll-target="#why-put-crimes-on-maps"><span class="header-section-number">1.2</span> Why put crimes on maps?</a></li>
  <li><a href="#why-is-crime-concentrated-in-space" id="toc-why-is-crime-concentrated-in-space" class="nav-link" data-scroll-target="#why-is-crime-concentrated-in-space"><span class="header-section-number">1.3</span> Why is crime concentrated in space?</a></li>
  <li><a href="#finding-your-way-around-rstudio" id="toc-finding-your-way-around-rstudio" class="nav-link" data-scroll-target="#finding-your-way-around-rstudio"><span class="header-section-number">1.4</span> Finding your way around RStudio</a></li>
  <li><a href="#in-summary" id="toc-in-summary" class="nav-link" data-scroll-target="#in-summary"><span class="header-section-number">1.5</span> In summary</a></li>
  </ul>
<div class="toc-actions"><ul class="collapse"><li><a href="https://github.com/mpjashby/crimemappingbook/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-getting-started" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started</span></span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="abstract">
<p>Get started with crime mapping by learning about why putting crime on maps is useful, and get a tour of the RStudio software we will use throughout this course.</p>
</div>
<section id="welcome" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="welcome"><span class="header-section-number">1.1</span> Welcome</h2>
<p>Welcome to <em>Learn Crime Mapping with R</em>. This book will help you learn about using maps and spatial analysis techniques to understand crime. Watch this video to learn more.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/zT78IBRsIBk" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
<section id="why-put-crimes-on-maps" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="why-put-crimes-on-maps"><span class="header-section-number">1.2</span> Why put crimes on maps?</h2>
<p>This course is about how we can use maps and other spatial analysis tools to help understand, prevent and respond to crime. Watch this video to understand why spatial analysis is a useful tool for understanding crime.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/-FQwFQ8e-O0" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<div class="callout callout-style-default callout-quiz callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Concentration of crime
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Why is it important to map crime?</strong></p>
<div id="radio_FCKVHKJAQJ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_FCKVHKJAQJ" value=""> <span>To estimate the total number of crimes in a city</span></label><label><input type="radio" autocomplete="off" name="radio_FCKVHKJAQJ" value="answer"> <span>To understand where different types of crime happen most often</span></label><label><input type="radio" autocomplete="off" name="radio_FCKVHKJAQJ" value=""> <span>To predict the weather in crime-prone areas</span></label><label><input type="radio" autocomplete="off" name="radio_FCKVHKJAQJ" value=""> <span>To determine the average time crimes occur</span></label>
</div>
<p><strong>What does the law of crime concentration state?</strong></p>
<div id="radio_XZWDOEXIDH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XZWDOEXIDH" value=""> <span>Most crime is caused by a large number of offenders</span></label><label><input type="radio" autocomplete="off" name="radio_XZWDOEXIDH" value=""> <span>About half of all crime happens in half of a city’s neighborhoods</span></label><label><input type="radio" autocomplete="off" name="radio_XZWDOEXIDH" value="answer"> <span>Most crime occurs in a small minority of places</span></label><label><input type="radio" autocomplete="off" name="radio_XZWDOEXIDH" value=""> <span>Crime is approximately equally distributed across all streets in a city</span></label>
</div>
<p><strong>According to research on the concentration of crime, how much crime typically happens in the 5–8% of streets or addresses with the most crime?</strong></p>
<div id="radio_EHOGGLKCSN" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_EHOGGLKCSN" value=""> <span>25%</span></label><label><input type="radio" autocomplete="off" name="radio_EHOGGLKCSN" value="answer"> <span>50%</span></label><label><input type="radio" autocomplete="off" name="radio_EHOGGLKCSN" value=""> <span>75%</span></label><label><input type="radio" autocomplete="off" name="radio_EHOGGLKCSN" value=""> <span>100%</span></label>
</div>
<p><strong>Why do researchers often prefer to focus on micro places, such as streets and addresses, rather than neighbourhoods?</strong></p>
<div id="radio_LLLJRFKHRG" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_LLLJRFKHRG" value="answer"> <span>Most crime in a high-crime neighborhood occurs at only a few streets or addresses</span></label><label><input type="radio" autocomplete="off" name="radio_LLLJRFKHRG" value=""> <span>Crime is usually random at the neighborhood level</span></label><label><input type="radio" autocomplete="off" name="radio_LLLJRFKHRG" value=""> <span>Analyzing neighborhoods is harder</span></label><label><input type="radio" autocomplete="off" name="radio_LLLJRFKHRG" value=""> <span>It is easier to access data on crime at particular addresses than for neighbourhoods</span></label>
</div>
<p><strong>Which of the following findings is consistent with the law of crime concentration?</strong></p>
<div id="radio_NUAHSNDATS" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NUAHSNDATS" value=""> <span>Crimes in Medellin are evenly distributed across the city</span></label><label><input type="radio" autocomplete="off" name="radio_NUAHSNDATS" value=""> <span>No specific places in Kaduna experience concentrated burglary rates</span></label><label><input type="radio" autocomplete="off" name="radio_NUAHSNDATS" value=""> <span>Crime in Oslo is spread equally across the city</span></label><label><input type="radio" autocomplete="off" name="radio_NUAHSNDATS" value="answer"> <span>About half of crimes in Seattle occur on 5% of streets</span></label>
</div>
</div>
</div>
<div class="box reading">
<p>Weisburd, D. (2015). <a href="https://doi.org/10.1111/1745-9125.12070">The law of crime concentration and the criminology of place</a>. <em>Criminology</em>, 53(2), 133-157.</p>
<p>Johnson, S. (2010). <a href="https://doi.org/10.1017/S0956792510000082">A brief history of the analysis of crime concentration</a>. <em>European Journal of Applied Mathematics</em>, 21(4-5), 349.</p>
<p>Farrell, G. (2015). <a href="https://doi.org/10.1057/cpcs.2015.17">Crime concentration theory</a>. <em>Crime Prevention and Community Safety</em>, 17(4), 233-248.</p>
</div>
</section>
<section id="why-is-crime-concentrated-in-space" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="why-is-crime-concentrated-in-space"><span class="header-section-number">1.3</span> Why is crime concentrated in space?</h2>
<p>Why is crime concentrated in space? Watch this video to find out more about how our environment influences opportunities for crime and how that causes clusters of different crimes.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/SvfPGslMrcs" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<div class="callout callout-style-default callout-quiz callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Routine activities
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Why are opportunities for crime concentrated in some places more than others?</strong></p>
<div id="radio_KBGGSFHPCV" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_KBGGSFHPCV" value=""> <span>Crime happens randomly in all places</span></label><label><input type="radio" autocomplete="off" name="radio_KBGGSFHPCV" value="answer"> <span>Some places have more environmental features that facilitate specific crimes</span></label><label><input type="radio" autocomplete="off" name="radio_KBGGSFHPCV" value=""> <span>Police allocate more resources to high-crime areas</span></label><label><input type="radio" autocomplete="off" name="radio_KBGGSFHPCV" value=""> <span>Criminals prefer remote locations to commit crimes</span></label>
</div>
<p><strong>According to the routine activities approach, which of the following is <em>not</em> required for a crime opportunity to occur?</strong></p>
<div id="radio_ORHKBMOIRN" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ORHKBMOIRN" value=""> <span>A motivated offender</span></label><label><input type="radio" autocomplete="off" name="radio_ORHKBMOIRN" value=""> <span>A suitable target</span></label><label><input type="radio" autocomplete="off" name="radio_ORHKBMOIRN" value="answer"> <span>A controller who prevents the crime</span></label><label><input type="radio" autocomplete="off" name="radio_ORHKBMOIRN" value=""> <span>A place where the offender and target can meet</span></label>
</div>
<p><strong>What role do controllers play in preventing crime, according to the routine activities approach?</strong></p>
<div id="radio_GAYTNXBWVX" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_GAYTNXBWVX" value="answer"> <span>They reduce the likelihood of opportunities for crime occurring, e.g.&nbsp;by making targets or places less vulnerable</span></label><label><input type="radio" autocomplete="off" name="radio_GAYTNXBWVX" value=""> <span>They deter crimes by arresting offenders</span></label><label><input type="radio" autocomplete="off" name="radio_GAYTNXBWVX" value=""> <span>They create opportunities for offenders and targets to meet</span></label><label><input type="radio" autocomplete="off" name="radio_GAYTNXBWVX" value=""> <span>They plan environments to increase crime rates</span></label>
</div>
<p><strong>Why do different types of crime concentrate in different places?</strong></p>
<div id="radio_IYULPTODED" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_IYULPTODED" value=""> <span>Criminals always prefer urban areas for all types of crime</span></label><label><input type="radio" autocomplete="off" name="radio_IYULPTODED" value=""> <span>Police enforcement varies between locations</span></label><label><input type="radio" autocomplete="off" name="radio_IYULPTODED" value=""> <span>Opportunities for crime are spread evenly across all areas</span></label><label><input type="radio" autocomplete="off" name="radio_IYULPTODED" value="answer"> <span>Opportunities for crime are influenced by specific environmental features that vary by crime type</span></label>
</div>
<p><strong>What is a target in the context of the routine activities approach?</strong></p>
<div id="radio_LQLPHEGZNU" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_LQLPHEGZNU" value=""> <span>A location where offenders and controllers meet</span></label><label><input type="radio" autocomplete="off" name="radio_LQLPHEGZNU" value="answer"> <span>The person or object that an offender aims to harm, steal, or engage with</span></label><label><input type="radio" autocomplete="off" name="radio_LQLPHEGZNU" value=""> <span>A police operation to reduce crime in specific areas</span></label><label><input type="radio" autocomplete="off" name="radio_LQLPHEGZNU" value=""> <span>Any place where crime does not occur</span></label>
</div>
</div>
</div>
<div class="box reading">
<p>Santos, R. B. (2015). <a href="https://ebookcentral.proquest.com/lib/ucl/reader.action?docID=1952969&amp;ppg=130">Routine Activity Theory: A Cornerstone of Police Crime Analyst Work</a>. In <em>The Criminal Act: </em></p>
<p>Cohen, L. E., and Felson, M. (1979). <a href="https://doi.org/10.2307/2094589">Social Change and Crime Rate Trends: A Routine Activity Approach</a>. <em>American Sociological Review</em>, 44(4), 588–608.</p>
</div>
</section>
<section id="finding-your-way-around-rstudio" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="finding-your-way-around-rstudio"><span class="header-section-number">1.4</span> Finding your way around RStudio</h2>
<p>We will use RStudio for almost all of this course. Watch this video to find your way around the different panels in the RStudio window.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/QhmPrfleCx4" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<section id="sec-adjust-rstudio" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="sec-adjust-rstudio"><span class="header-section-number">1.4.1</span> Slightly adjusting how RStudio works</h3>
<p>Before we start using RStudio, we should make a few changes to how it is set up that will make it easier to fix any mistakes we make while coding. To do this, click on the <code>Tools</code> menu in RStudio and then on <code>Global Options…</code>. In the dialogue box that opens, click on <code>General</code> in the left-hand panel if <code>General</code> is not selected already.</p>
<p class="centered-image">
<img src="../images/workspace_options.png" alt="A screen shot of the RStudio Global Options dialogue box, showing which options should be selected.">
</p>
<p>In the “Workspace” section of the right-hand panel, find an option that says “Restore .RData into workspace at startup” and make sure the check box to the left of that option is <strong>not checked</strong>. On the next line down, click the drop-down menu labelled “Save workspace to .RData on exit:” and choose the option <strong>Never</strong>.</p>
<p>Now click on <code>Code</code> in the left-hand panel. Find the box that is marked “Use native pipe operator, |&gt; (requires R 4.1+)” and make sure it is <strong>checked</strong>.</p>
<p>Click <code>Apply</code> and then <code>OK</code> to close the dialogue box.</p>
<div class="box reading">
<p>The <a href="https://github.com/rstudio/cheatsheets/blob/master/rstudio-ide.pdf">RStudio IDE Cheat Sheet</a> highlights some of the features available in RStudio and gives a list of available keyboard short-cuts.</p>
<p><a href="https://rstudio.com/resources/webinars/programming-part-1-writing-code-in-rstudio/">Writing Code in RStudio</a> is a webinar that talks you through RStudio in more detail.</p>
</div>
</section>
<section id="sec-create-project" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="sec-create-project"><span class="header-section-number">1.4.2</span> Creating an RStudio project</h3>
<p>RStudio includes a feature called Projects, which make it much easier to manage all the files that you will need to use as part of many data-analysis projects. We will learn more about projects later on, but for now it’s enough to create a single project in which you can store all the code you write while working through this book.</p>
<p>To create a new project from within RStudio, click <code>File</code> then <code>New Project …</code> and choose to create the project in a new directory on your computer:</p>
<p class="full-width-image">
<img src="../images/new_project_1.png" alt="Screenshot of an RStudio window for choosing between opening a new project in a new directory, in an existing directory or based on a project from a version-control system">
</p>
<p>Choose to create a new (empty) project, rather than use any of the templates for specific types of projects:</p>
<p class="full-width-image">
<img src="../images/new_project_2.png" alt="Screenshot of an RStudio window for choosing from different types of RStudio project">
</p>
<p>Choose what the new project <abbr title="directories on your computer are also sometimes called folders"> directory</abbr> should be called (probably ‘Crime Mapping’), and where on your computer it should be created, then click <code>Create Project</code>:</p>
<p class="full-width-image">
<img src="../images/new_project_3.png" alt="Screenshot of an RStudio window for choosing the directory that should be used for a new project">
</p>
<p>That’s it – you have created an RStudio project that you can organise your work in.</p>
<!--

## Navigating this book

This book includes chunks of R code that you can run in RStudio. 

The tutorials that make up this course include short chunks of R code that you 
can run directly in this window. To run the code in each chunk, just click the 
`Run Code` button in the top-right corner of each chunk. If you want to re-run a 
chunk of code, you can click the `Start Over` button in the top-left corner of 
each chunk. Some of the chunks will have pre-filled code for you to run, while
for others you will be asked to type the code needed to complete a task based on
what you have already learned.

When you click `Run Code`, the output of the chunk will appear below it (there
may be a delay of a few seconds for more-complicated chunks).

To try out using a code chunk, click `Run Code` below – you should see the
message 'Hello, world!' printed below the box.




::: {.cell exercise='true'}

```{.r .cell-code}
message("Hello, world!")
```

::: {.cell-output .cell-output-stderr}

```
Hello, world!
```


:::
:::





::: {.box .notewell}

Some of the tutorials include boxes like this one that contain information that
it is particularly important for you to know to avoid common mistakes in writing
code. Pay special attention to these points and remember to ask questions if
anything isn't clear.

:::


<div class="box extra-detail">

<h5 id="intro-box1-title" class="box-title">More information you might like 
to know <- **click here**</h5>

<div id="intro-box1" class="box-content">

In these tutorials you will also see lines marked 'Extra detail' that you can
click on to find out more information about a particular issue. This is 
generally information that you do not need to know to complete the tutorial, but
which might be useful in other circumstances or which might answer some 
questions that you have. You can skip these boxes if you want to, or come back
to them later if you have a question.

</div>

</div>

<script>
$("#intro-box1-title").click(function () { $("#intro-box1").toggle("slow") })
</script>

-->
</section>
</section>
<section id="in-summary" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="in-summary"><span class="header-section-number">1.5</span> In summary</h2>
<p>Now that you know why crime mapping is useful for understanding crime, why crime is typically concentrated in space and how to find your way around RStudio, in the next chapter we will produce our first crime map in R.</p>
<p>If you’re not feeling too confident at this point in the course, don’t worry – learning something new is always a bit of a roller coaster and there is lots of help available in subsequent chapters.</p>
<p class="full-width-image">
<img src="../images/r_rollercoaster.png" alt="Cartoon line chart showing how you become more confident in using R over time, then less confident and then more confident again.">
</p>
<p class="credits">
<a href="https://twitter.com/allison_horst">Artwork by <span class="citation" data-cites="allison_horst">@allison_horst</span></a>
</p>


<!-- -->

</section>

</main> <!-- /main -->
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../setup.html" class="pagination-link" aria-label="Install the software needed for this book">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Install the software needed for this book</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../02_your_first_crime_map/index.html" class="pagination-link" aria-label="Your first crime map">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Your first crime map</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb1" data-shortcodes="false" data-code-line-numbers=""><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu"># Getting started {#sec-getting-started}</span></span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>::: {.abstract}</span>
<span id="cb1-4"><a href="#cb1-4"></a>Get started with crime mapping by learning about why putting crime on maps is useful, and get a tour of the RStudio software we will use throughout this course.</span>
<span id="cb1-5"><a href="#cb1-5"></a>:::</span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">## Welcome</span></span>
<span id="cb1-10"><a href="#cb1-10"></a></span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a>Welcome to _Learn Crime Mapping with R_. This book will help you learn about using maps and spatial analysis techniques to understand crime. Watch this video to learn more.</span>
<span id="cb1-13"><a href="#cb1-13"></a></span>
<span id="cb1-14"><a href="#cb1-14"></a></span>
<span id="cb1-15"><a href="#cb1-15"></a>{{&lt; video https://youtu.be/zT78IBRsIBk &gt;}}</span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a></span>
<span id="cb1-18"><a href="#cb1-18"></a></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="fu">## Why put crimes on maps?</span></span>
<span id="cb1-20"><a href="#cb1-20"></a></span>
<span id="cb1-21"><a href="#cb1-21"></a>This course is about how we can use maps and other spatial analysis tools to help understand, prevent and respond to crime. Watch this video to understand why spatial analysis is a useful tool for understanding crime.</span>
<span id="cb1-22"><a href="#cb1-22"></a></span>
<span id="cb1-23"><a href="#cb1-23"></a>{{&lt; video https://youtu.be/-FQwFQ8e-O0 &gt;}}</span>
<span id="cb1-24"><a href="#cb1-24"></a></span>
<span id="cb1-25"><a href="#cb1-25"></a></span>
<span id="cb1-26"><a href="#cb1-26"></a>::: {.callout-quiz .callout}</span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="fu">#### Concentration of crime</span></span>
<span id="cb1-28"><a href="#cb1-28"></a></span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="in">```{r}</span></span>
<span id="cb1-32"><a href="#cb1-32"></a><span class="co">#| echo: false</span></span>
<span id="cb1-33"><a href="#cb1-33"></a></span>
<span id="cb1-34"><a href="#cb1-34"></a>why_maps_quiz1 <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-35"><a href="#cb1-35"></a>  <span class="st">"To estimate the total number of crimes in a city"</span>,</span>
<span id="cb1-36"><a href="#cb1-36"></a>  <span class="at">answer =</span> <span class="st">"To understand where different types of crime happen most often"</span>,</span>
<span id="cb1-37"><a href="#cb1-37"></a>  <span class="st">"To predict the weather in crime-prone areas"</span>,</span>
<span id="cb1-38"><a href="#cb1-38"></a>  <span class="st">"To determine the average time crimes occur"</span></span>
<span id="cb1-39"><a href="#cb1-39"></a>)</span>
<span id="cb1-40"><a href="#cb1-40"></a></span>
<span id="cb1-41"><a href="#cb1-41"></a>why_maps_quiz2 <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-42"><a href="#cb1-42"></a>  <span class="st">"Most crime is caused by a large number of offenders"</span>,</span>
<span id="cb1-43"><a href="#cb1-43"></a>  <span class="st">"About half of all crime happens in half of a city’s neighborhoods"</span>,</span>
<span id="cb1-44"><a href="#cb1-44"></a>  <span class="at">answer =</span> <span class="st">"Most crime occurs in a small minority of places"</span>,</span>
<span id="cb1-45"><a href="#cb1-45"></a>  <span class="st">"Crime is approximately equally distributed across all streets in a city"</span></span>
<span id="cb1-46"><a href="#cb1-46"></a>)</span>
<span id="cb1-47"><a href="#cb1-47"></a></span>
<span id="cb1-48"><a href="#cb1-48"></a>why_maps_quiz3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"25%"</span>, <span class="at">answer =</span> <span class="st">"50%"</span>, <span class="st">"75%"</span>, <span class="st">"100%"</span>)</span>
<span id="cb1-49"><a href="#cb1-49"></a></span>
<span id="cb1-50"><a href="#cb1-50"></a>why_maps_quiz4 <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-51"><a href="#cb1-51"></a>  <span class="at">answer =</span> <span class="st">"Most crime in a high-crime neighborhood occurs at only a few streets or addresses"</span>,</span>
<span id="cb1-52"><a href="#cb1-52"></a>  <span class="st">"Crime is usually random at the neighborhood level"</span>,</span>
<span id="cb1-53"><a href="#cb1-53"></a>  <span class="st">"Analyzing neighborhoods is harder"</span>,</span>
<span id="cb1-54"><a href="#cb1-54"></a>  <span class="st">"It is easier to access data on crime at particular addresses than for neighbourhoods"</span></span>
<span id="cb1-55"><a href="#cb1-55"></a>)</span>
<span id="cb1-56"><a href="#cb1-56"></a></span>
<span id="cb1-57"><a href="#cb1-57"></a>why_maps_quiz5 <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-58"><a href="#cb1-58"></a>  <span class="st">"Crimes in Medellin are evenly distributed across the city"</span>,</span>
<span id="cb1-59"><a href="#cb1-59"></a>  <span class="st">"No specific places in Kaduna experience concentrated burglary rates"</span>,</span>
<span id="cb1-60"><a href="#cb1-60"></a>  <span class="st">"Crime in Oslo is spread equally across the city"</span>,</span>
<span id="cb1-61"><a href="#cb1-61"></a>  <span class="at">answer =</span> <span class="st">"About half of crimes in Seattle occur on 5% of streets"</span></span>
<span id="cb1-62"><a href="#cb1-62"></a>)</span>
<span id="cb1-63"><a href="#cb1-63"></a><span class="in">```</span></span>
<span id="cb1-64"><a href="#cb1-64"></a></span>
<span id="cb1-65"><a href="#cb1-65"></a></span>
<span id="cb1-66"><a href="#cb1-66"></a>**Why is it important to map crime?**</span>
<span id="cb1-67"><a href="#cb1-67"></a></span>
<span id="cb1-68"><a href="#cb1-68"></a><span class="in">`r webexercises::longmcq(why_maps_quiz1)`</span></span>
<span id="cb1-69"><a href="#cb1-69"></a></span>
<span id="cb1-70"><a href="#cb1-70"></a></span>
<span id="cb1-71"><a href="#cb1-71"></a>**What does the law of crime concentration state?**</span>
<span id="cb1-72"><a href="#cb1-72"></a></span>
<span id="cb1-73"><a href="#cb1-73"></a><span class="in">`r webexercises::longmcq(why_maps_quiz2)`</span></span>
<span id="cb1-74"><a href="#cb1-74"></a></span>
<span id="cb1-75"><a href="#cb1-75"></a></span>
<span id="cb1-76"><a href="#cb1-76"></a>**According to research on the concentration of crime, how much crime typically happens in the 5–8% of streets or addresses with the most crime?**</span>
<span id="cb1-77"><a href="#cb1-77"></a></span>
<span id="cb1-78"><a href="#cb1-78"></a><span class="in">`r webexercises::longmcq(why_maps_quiz3)`</span></span>
<span id="cb1-79"><a href="#cb1-79"></a></span>
<span id="cb1-80"><a href="#cb1-80"></a></span>
<span id="cb1-81"><a href="#cb1-81"></a>**Why do researchers often prefer to focus on micro places, such as streets and addresses, rather than neighbourhoods?**</span>
<span id="cb1-82"><a href="#cb1-82"></a></span>
<span id="cb1-83"><a href="#cb1-83"></a><span class="in">`r webexercises::longmcq(why_maps_quiz4)`</span></span>
<span id="cb1-84"><a href="#cb1-84"></a></span>
<span id="cb1-85"><a href="#cb1-85"></a></span>
<span id="cb1-86"><a href="#cb1-86"></a>**Which of the following findings is consistent with the law of crime concentration?**</span>
<span id="cb1-87"><a href="#cb1-87"></a></span>
<span id="cb1-88"><a href="#cb1-88"></a><span class="in">`r webexercises::longmcq(why_maps_quiz5)`</span></span>
<span id="cb1-89"><a href="#cb1-89"></a></span>
<span id="cb1-90"><a href="#cb1-90"></a>:::</span>
<span id="cb1-91"><a href="#cb1-91"></a></span>
<span id="cb1-92"><a href="#cb1-92"></a></span>
<span id="cb1-93"><a href="#cb1-93"></a>::: {.box .reading}</span>
<span id="cb1-94"><a href="#cb1-94"></a></span>
<span id="cb1-95"><a href="#cb1-95"></a>Weisburd, D. (2015). <span class="co">[</span><span class="ot">The law of crime concentration and the criminology of place</span><span class="co">](https://doi.org/10.1111/1745-9125.12070)</span>. *Criminology*, 53(2), 133-157.</span>
<span id="cb1-96"><a href="#cb1-96"></a></span>
<span id="cb1-97"><a href="#cb1-97"></a>Johnson, S. (2010). <span class="co">[</span><span class="ot">A brief history of the analysis of crime concentration</span><span class="co">](https://doi.org/10.1017/S0956792510000082)</span>. *European Journal of Applied Mathematics*, 21(4-5), 349.</span>
<span id="cb1-98"><a href="#cb1-98"></a></span>
<span id="cb1-99"><a href="#cb1-99"></a>Farrell, G. (2015). <span class="co">[</span><span class="ot">Crime concentration theory</span><span class="co">](https://doi.org/10.1057/cpcs.2015.17)</span>. *Crime Prevention and Community Safety*, 17(4), 233-248.</span>
<span id="cb1-100"><a href="#cb1-100"></a></span>
<span id="cb1-101"><a href="#cb1-101"></a>:::</span>
<span id="cb1-102"><a href="#cb1-102"></a></span>
<span id="cb1-103"><a href="#cb1-103"></a></span>
<span id="cb1-104"><a href="#cb1-104"></a></span>
<span id="cb1-105"><a href="#cb1-105"></a><span class="fu">## Why is crime concentrated in space?</span></span>
<span id="cb1-106"><a href="#cb1-106"></a></span>
<span id="cb1-107"><a href="#cb1-107"></a>Why is crime concentrated in space? Watch this video to find out more about how our environment influences opportunities for crime and how that causes clusters of different crimes.</span>
<span id="cb1-108"><a href="#cb1-108"></a></span>
<span id="cb1-109"><a href="#cb1-109"></a>{{&lt; video https://youtu.be/SvfPGslMrcs &gt;}}</span>
<span id="cb1-110"><a href="#cb1-110"></a></span>
<span id="cb1-111"><a href="#cb1-111"></a></span>
<span id="cb1-112"><a href="#cb1-112"></a>::: {.callout-quiz .callout}</span>
<span id="cb1-113"><a href="#cb1-113"></a><span class="fu">#### Routine activities</span></span>
<span id="cb1-114"><a href="#cb1-114"></a></span>
<span id="cb1-115"><a href="#cb1-115"></a></span>
<span id="cb1-116"><a href="#cb1-116"></a><span class="in">```{r why-concentrated-quiz}</span></span>
<span id="cb1-117"><a href="#cb1-117"></a><span class="in">#| echo: false</span></span>
<span id="cb1-118"><a href="#cb1-118"></a></span>
<span id="cb1-119"><a href="#cb1-119"></a><span class="in">why_concentrated_quiz1 &lt;- c(</span></span>
<span id="cb1-120"><a href="#cb1-120"></a><span class="in">  "Crime happens randomly in all places",</span></span>
<span id="cb1-121"><a href="#cb1-121"></a><span class="in">  answer = "Some places have more environmental features that facilitate specific crimes",</span></span>
<span id="cb1-122"><a href="#cb1-122"></a><span class="in">  "Police allocate more resources to high-crime areas",</span></span>
<span id="cb1-123"><a href="#cb1-123"></a><span class="in">  "Criminals prefer remote locations to commit crimes"</span></span>
<span id="cb1-124"><a href="#cb1-124"></a><span class="in">)</span></span>
<span id="cb1-125"><a href="#cb1-125"></a></span>
<span id="cb1-126"><a href="#cb1-126"></a><span class="in">why_concentrated_quiz2 &lt;- c(</span></span>
<span id="cb1-127"><a href="#cb1-127"></a><span class="in">  "A motivated offender",</span></span>
<span id="cb1-128"><a href="#cb1-128"></a><span class="in">  "A suitable target",</span></span>
<span id="cb1-129"><a href="#cb1-129"></a><span class="in">  answer = "A controller who prevents the crime",</span></span>
<span id="cb1-130"><a href="#cb1-130"></a><span class="in">  "A place where the offender and target can meet"</span></span>
<span id="cb1-131"><a href="#cb1-131"></a><span class="in">)</span></span>
<span id="cb1-132"><a href="#cb1-132"></a></span>
<span id="cb1-133"><a href="#cb1-133"></a><span class="in">why_concentrated_quiz3 &lt;- c(</span></span>
<span id="cb1-134"><a href="#cb1-134"></a><span class="in">  answer = "They reduce the likelihood of opportunities for crime occurring, e.g. by making targets or places less vulnerable",</span></span>
<span id="cb1-135"><a href="#cb1-135"></a><span class="in">  "They deter crimes by arresting offenders",</span></span>
<span id="cb1-136"><a href="#cb1-136"></a><span class="in">  "They create opportunities for offenders and targets to meet",</span></span>
<span id="cb1-137"><a href="#cb1-137"></a><span class="in">  "They plan environments to increase crime rates"</span></span>
<span id="cb1-138"><a href="#cb1-138"></a><span class="in">)</span></span>
<span id="cb1-139"><a href="#cb1-139"></a></span>
<span id="cb1-140"><a href="#cb1-140"></a><span class="in">why_concentrated_quiz4 &lt;- c(</span></span>
<span id="cb1-141"><a href="#cb1-141"></a><span class="in">  "Criminals always prefer urban areas for all types of crime",</span></span>
<span id="cb1-142"><a href="#cb1-142"></a><span class="in">  "Police enforcement varies between locations",</span></span>
<span id="cb1-143"><a href="#cb1-143"></a><span class="in">  "Opportunities for crime are spread evenly across all areas",</span></span>
<span id="cb1-144"><a href="#cb1-144"></a><span class="in">  answer = "Opportunities for crime are influenced by specific environmental features that vary by crime type"</span></span>
<span id="cb1-145"><a href="#cb1-145"></a><span class="in">)</span></span>
<span id="cb1-146"><a href="#cb1-146"></a></span>
<span id="cb1-147"><a href="#cb1-147"></a><span class="in">why_concentrated_quiz5 &lt;- c(</span></span>
<span id="cb1-148"><a href="#cb1-148"></a><span class="in">  "A location where offenders and controllers meet",</span></span>
<span id="cb1-149"><a href="#cb1-149"></a><span class="in">  answer = "The person or object that an offender aims to harm, steal, or engage with",</span></span>
<span id="cb1-150"><a href="#cb1-150"></a><span class="in">  "A police operation to reduce crime in specific areas",</span></span>
<span id="cb1-151"><a href="#cb1-151"></a><span class="in">  "Any place where crime does not occur"</span></span>
<span id="cb1-152"><a href="#cb1-152"></a><span class="in">)</span></span>
<span id="cb1-153"><a href="#cb1-153"></a><span class="in">```</span></span>
<span id="cb1-154"><a href="#cb1-154"></a></span>
<span id="cb1-155"><a href="#cb1-155"></a>**Why are opportunities for crime concentrated in some places more than others?**</span>
<span id="cb1-156"><a href="#cb1-156"></a></span>
<span id="cb1-157"><a href="#cb1-157"></a><span class="in">`r webexercises::longmcq(why_concentrated_quiz1)`</span></span>
<span id="cb1-158"><a href="#cb1-158"></a></span>
<span id="cb1-159"><a href="#cb1-159"></a></span>
<span id="cb1-160"><a href="#cb1-160"></a>**According to the routine activities approach, which of the following is _not_ required for a crime opportunity to occur?**</span>
<span id="cb1-161"><a href="#cb1-161"></a></span>
<span id="cb1-162"><a href="#cb1-162"></a><span class="in">`r webexercises::longmcq(why_concentrated_quiz2)`</span></span>
<span id="cb1-163"><a href="#cb1-163"></a></span>
<span id="cb1-164"><a href="#cb1-164"></a></span>
<span id="cb1-165"><a href="#cb1-165"></a>**What role do controllers play in preventing crime, according to the routine activities approach?**</span>
<span id="cb1-166"><a href="#cb1-166"></a></span>
<span id="cb1-167"><a href="#cb1-167"></a><span class="in">`r webexercises::longmcq(why_concentrated_quiz3)`</span></span>
<span id="cb1-168"><a href="#cb1-168"></a></span>
<span id="cb1-169"><a href="#cb1-169"></a></span>
<span id="cb1-170"><a href="#cb1-170"></a>**Why do different types of crime concentrate in different places?**</span>
<span id="cb1-171"><a href="#cb1-171"></a></span>
<span id="cb1-172"><a href="#cb1-172"></a><span class="in">`r webexercises::longmcq(why_concentrated_quiz4)`</span></span>
<span id="cb1-173"><a href="#cb1-173"></a></span>
<span id="cb1-174"><a href="#cb1-174"></a></span>
<span id="cb1-175"><a href="#cb1-175"></a>**What is a target in the context of the routine activities approach?**</span>
<span id="cb1-176"><a href="#cb1-176"></a></span>
<span id="cb1-177"><a href="#cb1-177"></a><span class="in">`r webexercises::longmcq(why_concentrated_quiz5)`</span></span>
<span id="cb1-178"><a href="#cb1-178"></a></span>
<span id="cb1-179"><a href="#cb1-179"></a></span>
<span id="cb1-180"><a href="#cb1-180"></a>:::</span>
<span id="cb1-181"><a href="#cb1-181"></a></span>
<span id="cb1-182"><a href="#cb1-182"></a></span>
<span id="cb1-183"><a href="#cb1-183"></a>::: {.box .reading}</span>
<span id="cb1-184"><a href="#cb1-184"></a></span>
<span id="cb1-185"><a href="#cb1-185"></a>Santos, R. B. (2015). <span class="co">[</span><span class="ot">Routine Activity Theory: A Cornerstone of Police Crime Analyst Work</span><span class="co">](https://ebookcentral.proquest.com/lib/ucl/reader.action?docID=1952969&amp;ppg=130)</span>. In _The Criminal Act: _</span>
<span id="cb1-186"><a href="#cb1-186"></a></span>
<span id="cb1-187"><a href="#cb1-187"></a>Cohen, L. E., and Felson, M. (1979). <span class="co">[</span><span class="ot">Social Change and Crime Rate Trends: A Routine Activity Approach</span><span class="co">](https://doi.org/10.2307/2094589)</span>. *American Sociological Review*, 44(4), 588–608.</span>
<span id="cb1-188"><a href="#cb1-188"></a></span>
<span id="cb1-189"><a href="#cb1-189"></a>:::</span>
<span id="cb1-190"><a href="#cb1-190"></a></span>
<span id="cb1-191"><a href="#cb1-191"></a></span>
<span id="cb1-192"><a href="#cb1-192"></a></span>
<span id="cb1-193"><a href="#cb1-193"></a><span class="fu">## Finding your way around RStudio</span></span>
<span id="cb1-194"><a href="#cb1-194"></a></span>
<span id="cb1-195"><a href="#cb1-195"></a>We will use RStudio for almost all of this course. Watch this video to find your way around the different panels in the RStudio window.</span>
<span id="cb1-196"><a href="#cb1-196"></a></span>
<span id="cb1-197"><a href="#cb1-197"></a>{{&lt; video https://youtu.be/QhmPrfleCx4 &gt;}}</span>
<span id="cb1-198"><a href="#cb1-198"></a></span>
<span id="cb1-199"><a href="#cb1-199"></a></span>
<span id="cb1-200"><a href="#cb1-200"></a><span class="fu">### Slightly adjusting how RStudio works {#sec-adjust-rstudio}</span></span>
<span id="cb1-201"><a href="#cb1-201"></a></span>
<span id="cb1-202"><a href="#cb1-202"></a>Before we start using RStudio, we should make a few changes to how it is set up that will make it easier to fix any mistakes we make while coding. To do this, click on the <span class="in">`Tools`</span> menu in RStudio and then on <span class="in">`Global Options…`</span>. In the dialogue box that opens, click on <span class="in">`General`</span> in the left-hand panel if <span class="in">`General`</span> is not selected already.</span>
<span id="cb1-203"><a href="#cb1-203"></a></span>
<span id="cb1-204"><a href="#cb1-204"></a>&lt;p class="centered-image"&gt;&lt;img src="../images/workspace_options.png" alt="A screen shot of the RStudio Global Options dialogue box, showing which options should be selected."&gt;&lt;/p&gt;</span>
<span id="cb1-205"><a href="#cb1-205"></a></span>
<span id="cb1-206"><a href="#cb1-206"></a>In the "Workspace" section of the right-hand panel, find an option that says "Restore .RData into workspace at startup" and make sure the check box to the left of that option is **not checked**. On the next line down, click the drop-down menu labelled "Save workspace to .RData on exit:" and choose the option **Never**. </span>
<span id="cb1-207"><a href="#cb1-207"></a></span>
<span id="cb1-208"><a href="#cb1-208"></a>Now click on <span class="in">`Code`</span> in the left-hand panel. Find the box that is marked "Use native pipe operator, |&gt; (requires R 4.1+)" and make sure it is **checked**.</span>
<span id="cb1-209"><a href="#cb1-209"></a></span>
<span id="cb1-210"><a href="#cb1-210"></a>Click <span class="in">`Apply`</span> and then <span class="in">`OK`</span> to close the dialogue box.</span>
<span id="cb1-211"><a href="#cb1-211"></a></span>
<span id="cb1-212"><a href="#cb1-212"></a></span>
<span id="cb1-213"><a href="#cb1-213"></a>::: {.box .reading}</span>
<span id="cb1-214"><a href="#cb1-214"></a></span>
<span id="cb1-215"><a href="#cb1-215"></a>The <span class="co">[</span><span class="ot">RStudio IDE Cheat Sheet</span><span class="co">](https://github.com/rstudio/cheatsheets/blob/master/rstudio-ide.pdf)</span> highlights some of the features available in RStudio and gives a list of available keyboard short-cuts.</span>
<span id="cb1-216"><a href="#cb1-216"></a></span>
<span id="cb1-217"><a href="#cb1-217"></a><span class="co">[</span><span class="ot">Writing Code in RStudio</span><span class="co">](https://rstudio.com/resources/webinars/programming-part-1-writing-code-in-rstudio/)</span> is a webinar that talks you through RStudio in more detail.</span>
<span id="cb1-218"><a href="#cb1-218"></a></span>
<span id="cb1-219"><a href="#cb1-219"></a>:::</span>
<span id="cb1-220"><a href="#cb1-220"></a></span>
<span id="cb1-221"><a href="#cb1-221"></a></span>
<span id="cb1-222"><a href="#cb1-222"></a><span class="fu">### Creating an RStudio project {#sec-create-project}</span></span>
<span id="cb1-223"><a href="#cb1-223"></a></span>
<span id="cb1-224"><a href="#cb1-224"></a>RStudio includes a feature called Projects, which make it much easier to manage all the files that you will need to use as part of many data-analysis projects. We will learn more about projects later on, but for now it's enough to create a single project in which you can store all the code you write while working through this book.</span>
<span id="cb1-225"><a href="#cb1-225"></a></span>
<span id="cb1-226"><a href="#cb1-226"></a>To create a new project from within RStudio, click <span class="in">`File`</span> then <span class="in">`New Project …`</span> </span>
<span id="cb1-227"><a href="#cb1-227"></a>and choose to create the project in a new directory on your computer:</span>
<span id="cb1-228"><a href="#cb1-228"></a></span>
<span id="cb1-229"><a href="#cb1-229"></a>&lt;p class="full-width-image"&gt;&lt;img src="../images/new_project_1.png" alt="Screenshot of an RStudio window for choosing between opening a new project in a new directory, in an existing directory or based on a project from a version-control system"&gt;&lt;/p&gt;</span>
<span id="cb1-230"><a href="#cb1-230"></a></span>
<span id="cb1-231"><a href="#cb1-231"></a>Choose to create a new (empty) project, rather than use any of the templates for specific types of projects:</span>
<span id="cb1-232"><a href="#cb1-232"></a></span>
<span id="cb1-233"><a href="#cb1-233"></a>&lt;p class="full-width-image"&gt;&lt;img src="../images/new_project_2.png" alt="Screenshot of an RStudio window for choosing from different types of RStudio project"&gt;&lt;/p&gt;</span>
<span id="cb1-234"><a href="#cb1-234"></a></span>
<span id="cb1-235"><a href="#cb1-235"></a>Choose what the new project &lt;abbr title="directories on your computer are also sometimes called folders"&gt; directory&lt;/abbr&gt; should be called (probably 'Crime Mapping'), and where on your computer it should be created, then click <span class="in">`Create Project`</span>:</span>
<span id="cb1-236"><a href="#cb1-236"></a></span>
<span id="cb1-237"><a href="#cb1-237"></a>&lt;p class="full-width-image"&gt;&lt;img src="../images/new_project_3.png" alt="Screenshot of an RStudio window for choosing the directory that should be used for a new project"&gt;&lt;/p&gt;</span>
<span id="cb1-238"><a href="#cb1-238"></a></span>
<span id="cb1-239"><a href="#cb1-239"></a>That's it -- you have created an RStudio project that you can organise your work in.</span>
<span id="cb1-240"><a href="#cb1-240"></a></span>
<span id="cb1-241"><a href="#cb1-241"></a></span>
<span id="cb1-242"><a href="#cb1-242"></a></span>
<span id="cb1-243"><a href="#cb1-243"></a><span class="co">&lt;!--</span></span>
<span id="cb1-244"><a href="#cb1-244"></a></span>
<span id="cb1-245"><a href="#cb1-245"></a><span class="co">## Navigating this book</span></span>
<span id="cb1-246"><a href="#cb1-246"></a></span>
<span id="cb1-247"><a href="#cb1-247"></a><span class="co">This book includes chunks of R code that you can run in RStudio. </span></span>
<span id="cb1-248"><a href="#cb1-248"></a></span>
<span id="cb1-249"><a href="#cb1-249"></a><span class="co">The tutorials that make up this course include short chunks of R code that you </span></span>
<span id="cb1-250"><a href="#cb1-250"></a><span class="co">can run directly in this window. To run the code in each chunk, just click the </span></span>
<span id="cb1-251"><a href="#cb1-251"></a><span class="co">`Run Code` button in the top-right corner of each chunk. If you want to re-run a </span></span>
<span id="cb1-252"><a href="#cb1-252"></a><span class="co">chunk of code, you can click the `Start Over` button in the top-left corner of </span></span>
<span id="cb1-253"><a href="#cb1-253"></a><span class="co">each chunk. Some of the chunks will have pre-filled code for you to run, while</span></span>
<span id="cb1-254"><a href="#cb1-254"></a><span class="co">for others you will be asked to type the code needed to complete a task based on</span></span>
<span id="cb1-255"><a href="#cb1-255"></a><span class="co">what you have already learned.</span></span>
<span id="cb1-256"><a href="#cb1-256"></a></span>
<span id="cb1-257"><a href="#cb1-257"></a><span class="co">When you click `Run Code`, the output of the chunk will appear below it (there</span></span>
<span id="cb1-258"><a href="#cb1-258"></a><span class="co">may be a delay of a few seconds for more-complicated chunks).</span></span>
<span id="cb1-259"><a href="#cb1-259"></a></span>
<span id="cb1-260"><a href="#cb1-260"></a><span class="co">To try out using a code chunk, click `Run Code` below – you should see the</span></span>
<span id="cb1-261"><a href="#cb1-261"></a><span class="co">message 'Hello, world!' printed below the box.</span></span>
<span id="cb1-262"><a href="#cb1-262"></a></span>
<span id="cb1-263"><a href="#cb1-263"></a><span class="co">```{r exercise0, exercise=TRUE}</span></span>
<span id="cb1-264"><a href="#cb1-264"></a><span class="co">message("Hello, world!")</span></span>
<span id="cb1-265"><a href="#cb1-265"></a><span class="co">```</span></span>
<span id="cb1-266"><a href="#cb1-266"></a></span>
<span id="cb1-267"><a href="#cb1-267"></a></span>
<span id="cb1-268"><a href="#cb1-268"></a><span class="co">::: {.box .notewell}</span></span>
<span id="cb1-269"><a href="#cb1-269"></a></span>
<span id="cb1-270"><a href="#cb1-270"></a><span class="co">Some of the tutorials include boxes like this one that contain information that</span></span>
<span id="cb1-271"><a href="#cb1-271"></a><span class="co">it is particularly important for you to know to avoid common mistakes in writing</span></span>
<span id="cb1-272"><a href="#cb1-272"></a><span class="co">code. Pay special attention to these points and remember to ask questions if</span></span>
<span id="cb1-273"><a href="#cb1-273"></a><span class="co">anything isn't clear.</span></span>
<span id="cb1-274"><a href="#cb1-274"></a></span>
<span id="cb1-275"><a href="#cb1-275"></a><span class="co">:::</span></span>
<span id="cb1-276"><a href="#cb1-276"></a></span>
<span id="cb1-277"><a href="#cb1-277"></a></span>
<span id="cb1-278"><a href="#cb1-278"></a><span class="co">&lt;div class="box extra-detail"&gt;</span></span>
<span id="cb1-279"><a href="#cb1-279"></a></span>
<span id="cb1-280"><a href="#cb1-280"></a><span class="co">&lt;h5 id="intro-box1-title" class="box-title"&gt;More information you might like </span></span>
<span id="cb1-281"><a href="#cb1-281"></a><span class="co">to know &lt;- **click here**&lt;/h5&gt;</span></span>
<span id="cb1-282"><a href="#cb1-282"></a></span>
<span id="cb1-283"><a href="#cb1-283"></a><span class="co">&lt;div id="intro-box1" class="box-content"&gt;</span></span>
<span id="cb1-284"><a href="#cb1-284"></a></span>
<span id="cb1-285"><a href="#cb1-285"></a><span class="co">In these tutorials you will also see lines marked 'Extra detail' that you can</span></span>
<span id="cb1-286"><a href="#cb1-286"></a><span class="co">click on to find out more information about a particular issue. This is </span></span>
<span id="cb1-287"><a href="#cb1-287"></a><span class="co">generally information that you do not need to know to complete the tutorial, but</span></span>
<span id="cb1-288"><a href="#cb1-288"></a><span class="co">which might be useful in other circumstances or which might answer some </span></span>
<span id="cb1-289"><a href="#cb1-289"></a><span class="co">questions that you have. You can skip these boxes if you want to, or come back</span></span>
<span id="cb1-290"><a href="#cb1-290"></a><span class="co">to them later if you have a question.</span></span>
<span id="cb1-291"><a href="#cb1-291"></a></span>
<span id="cb1-292"><a href="#cb1-292"></a><span class="co">&lt;/div&gt;</span></span>
<span id="cb1-293"><a href="#cb1-293"></a></span>
<span id="cb1-294"><a href="#cb1-294"></a><span class="co">&lt;/div&gt;</span></span>
<span id="cb1-295"><a href="#cb1-295"></a></span>
<span id="cb1-296"><a href="#cb1-296"></a><span class="co">&lt;script&gt;</span></span>
<span id="cb1-297"><a href="#cb1-297"></a><span class="co">$("#intro-box1-title").click(function () { $("#intro-box1").toggle("slow") })</span></span>
<span id="cb1-298"><a href="#cb1-298"></a><span class="co">&lt;/script&gt;</span></span>
<span id="cb1-299"><a href="#cb1-299"></a></span>
<span id="cb1-300"><a href="#cb1-300"></a><span class="co">--&gt;</span></span>
<span id="cb1-301"><a href="#cb1-301"></a></span>
<span id="cb1-302"><a href="#cb1-302"></a></span>
<span id="cb1-303"><a href="#cb1-303"></a></span>
<span id="cb1-304"><a href="#cb1-304"></a><span class="fu">## In summary</span></span>
<span id="cb1-305"><a href="#cb1-305"></a></span>
<span id="cb1-306"><a href="#cb1-306"></a>Now that you know why crime mapping is useful for understanding crime, why crime is typically concentrated in space and how to find your way around RStudio, in the next chapter we will produce our first crime map in R.</span>
<span id="cb1-307"><a href="#cb1-307"></a></span>
<span id="cb1-308"><a href="#cb1-308"></a>If you're not feeling too confident at this point in the course, don't worry – learning something new is always a bit of a roller coaster and there is lots of help available in subsequent chapters.</span>
<span id="cb1-309"><a href="#cb1-309"></a></span>
<span id="cb1-310"><a href="#cb1-310"></a>&lt;p class="full-width-image"&gt;&lt;img src="../images/r_rollercoaster.png" alt="Cartoon line chart showing how you become more confident in using R over time, then less confident and then more confident again."&gt;&lt;/p&gt;</span>
<span id="cb1-311"><a href="#cb1-311"></a></span>
<span id="cb1-312"><a href="#cb1-312"></a>&lt;p class="credits"&gt;&lt;a href="https://twitter.com/allison_horst"&gt;Artwork by @allison_horst&lt;/a&gt;&lt;/p&gt;</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://creativecommons.org/licenses/by/4.0/">
<p>This book is available under a Creative Commons Attribution 4.0 International licence</p>
</a>
  </li>  
</ul>
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/mpjashby/crimemappingbook/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




<script src="../site_libs/quarto-contrib/line-highlight-1.0.0/line-highlight.js" defer="true"></script>
</body></html>